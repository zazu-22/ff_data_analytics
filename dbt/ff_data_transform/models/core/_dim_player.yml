version: 2

models:
  - name: dim_player
    description: |
      Player dimension - conformed dimension for all player-based analysis.

      **Grain**: One row per player (player_id as canonical sequential surrogate key)
      **Source**: dim_player_id_xref staging model (stg_nflverse__ff_playerids with deduplication logic)

      **SCD Type 1** (overwrite): current_team
      **SCD Type 0** (immutable): draft_year, birthdate

      Provides display attributes and cross-platform provider ID mappings.

    columns:
      - name: player_id
        description: |
          Canonical player identifier (sequential surrogate key 1-N).
          Primary key for player dimension. Source: dim_player_id_xref staging model.
        data_tests:
          - unique
          - not_null

      - name: display_name
        description: Player display name for presentation
        data_tests:
          - not_null

      - name: position
        description: |
          Player position (QB, RB, WR, TE, K, etc.).
          Fantasy-relevant positions: QB, RB, WR, TE, K, FB
        data_tests:
          - not_null

      - name: current_team
        description: |
          Current team assignment (SCD Type 1 - overwrites on change).
          Null for unsigned free agents.

      - name: draft_year
        description: |
          NFL draft year (SCD Type 0 - immutable).
          Null for undrafted free agents.

      - name: searchable_name
        description: "Normalized player name for searching (lowercase, no punctuation)"

      - name: birthdate
        description: "Player date of birth"

      - name: mfl_id
        description: "MyFantasyLeague player ID"

      - name: gsis_id
        description: "NFL GSIS player ID"

      - name: sleeper_id
        description: "Sleeper platform player ID"

      - name: espn_id
        description: "ESPN player ID"

      - name: yahoo_id
        description: "Yahoo Fantasy player ID"

      - name: pfr_id
        description: "Pro Football Reference player ID"

      - name: fantasypros_id
        description: "FantasyPros player ID"

      - name: pff_id
        description: "Pro Football Focus player ID"

      - name: cbs_id
        description: "CBS Sports player ID"

      - name: ktc_id
        description: "KeepTradeCut player ID"

      - name: sportradar_id
        description: "Sportradar player ID"

      - name: fleaflicker_id
        description: "Fleaflicker platform player ID"

      - name: rotowire_id
        description: "RotoWire player ID"

      - name: rotoworld_id
        description: "Rotoworld player ID"

      - name: stats_id
        description: "Stats Inc player ID"

      - name: stats_global_id
        description: "Stats Inc global player ID"

      - name: fantasy_data_id
        description: "FantasyData player ID"

      - name: swish_id
        description: "Swish Analytics player ID"

      - name: cfbref_id
        description: "College Football Reference player ID"

      - name: nfl_id
        description: "Official NFL player ID"
